<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.7.0 for Hugo"><link rel=stylesheet href=/2023-fall-nn-forgetting/css/vendor-bundle.min.16f785cdb553c8c4431db6775122af35.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=/2023-fall-nn-forgetting/css/wowchemy.312fa478a18a798c9270bab324760a16.css><link rel=stylesheet href=/2023-fall-nn-forgetting/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/2023-fall-nn-forgetting/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=description content="The main results of the work done to date"><link rel=alternate hreflang=en-us href=https://ckids-datafest.github.io/2023-fall-nn-forgetting/results/><link rel=canonical href=https://ckids-datafest.github.io/2023-fall-nn-forgetting/results/><link rel=manifest href=/2023-fall-nn-forgetting/manifest.webmanifest><link rel=icon type=image/png href=/2023-fall-nn-forgetting/media/icon_hu5486d42984c30aaff6be99d37062b147_3155_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/2023-fall-nn-forgetting/media/icon_hu5486d42984c30aaff6be99d37062b147_3155_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@wowchemy"><meta property="twitter:creator" content="@wowchemy"><meta property="twitter:image" content="https://ckids-datafest.github.io/2023-fall-nn-forgetting/media/icon_hu5486d42984c30aaff6be99d37062b147_3155_512x512_fill_lanczos_center_3.png"><meta property="og:site_name" content="Learning and Forgetting in Neural Networks"><meta property="og:url" content="https://ckids-datafest.github.io/2023-fall-nn-forgetting/results/"><meta property="og:title" content="Results | Learning and Forgetting in Neural Networks"><meta property="og:description" content="The main results of the work done to date"><meta property="og:image" content="https://ckids-datafest.github.io/2023-fall-nn-forgetting/media/icon_hu5486d42984c30aaff6be99d37062b147_3155_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2018-06-28T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-16T01:10:47-08:00"><title>Results | Learning and Forgetting in Neural Networks</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=c29e41198fe1dc5c85e66dbe4f2d7737><script src=/2023-fall-nn-forgetting/js/wowchemy-init.min.fe8634e7d00f14d07fb33caf14cc8e55.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/2023-fall-nn-forgetting/>Learning and Forgetting in Neural Networks</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/2023-fall-nn-forgetting/>Learning and Forgetting in Neural Networks</a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/2023-fall-nn-forgetting/data><span>Data Assessment</span></a></li><li class=nav-item><a class=nav-link href=/2023-fall-nn-forgetting/problem-statement><span>Problem and Requirements</span></a></li><li class=nav-item><a class=nav-link href=/2023-fall-nn-forgetting/approach><span>Approach</span></a></li><li class=nav-item><a class="nav-link active" href=/2023-fall-nn-forgetting/results><span>Results</span></a></li><li class=nav-item><a class=nav-link href=/2023-fall-nn-forgetting/people><span>People</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav></header></div><div class=page-body><article class=article><div class="article-container pt-3"><h1>Results</h1><div class=article-metadata></div></div><div class=article-container><div class=article-style><h2 id=visualization-of-the-last-layer-of-the-model>Visualization of the last layer of the model</h2><p>So how does the softmax layer give out the classes to be predicted. It takes the activations from the last layer of the model. We took a specific class-balanced subset of the test dataset and pulled out the activations from the last layer of the model. After reducing the dimension of the activation for an instance to 2 using t-SNE, we plotted the each instance colored by its target label. If the classes are placed well apart, it visually shows that even in two dimensions, these class clusters can be separated. Not a very accurate way but makes up for a visual. After all, we are very visual beings. :)</p><table><thead><tr><th style=text-align:center>IID</th><th style=text-align:center>Non-IID</th></tr></thead><tbody><tr><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=iid src=/2023-fall-nn-forgetting/results/iid_community.gif loading=lazy data-zoomable></div></div></figure></td><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=non_iid src=/2023-fall-nn-forgetting/results/community_non_iid.gif loading=lazy data-zoomable></div></div></figure></td></tr></tbody></table><p>As the rounds proceed, there is clear separation in the IID-cases but in the non-IID case, there is still a lot of overlap.</p><h2 id=kl-divergence>KL Divergence</h2><p>KL Divergence can show the disimilarity between two probability distributions. The final output is the function of the weights of the models. So we propose using KL Divergence as a measure of the catastrophic forgetting happening at the client sites. Specifically, KL Divergence between the probability distributions obtained from the community model and the local model after a round of finetuning is taken. A low divergence score is a good thing!</p><table><thead><tr><th style=text-align:center>IID</th><th style=text-align:center>Non-IID</th></tr></thead><tbody><tr><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=iid srcset="/2023-fall-nn-forgetting/results/fed_iid_kl_hud7e4e58de6ff8f54ab94a7a9e5b380d5_41322_ed3fcd1e18627eeb68b07fc5fbb4a77c.webp 400w,
/2023-fall-nn-forgetting/results/fed_iid_kl_hud7e4e58de6ff8f54ab94a7a9e5b380d5_41322_b5a0ae9158cca82dc67ca0d2a9e994e9.webp 760w,
/2023-fall-nn-forgetting/results/fed_iid_kl_hud7e4e58de6ff8f54ab94a7a9e5b380d5_41322_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/fed_iid_kl_hud7e4e58de6ff8f54ab94a7a9e5b380d5_41322_ed3fcd1e18627eeb68b07fc5fbb4a77c.webp width=760 height=441 loading=lazy data-zoomable></div></div></figure></td><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=non_iid srcset="/2023-fall-nn-forgetting/results/fed-noniid-kl_hu1e047e57ab35ea56ea8e8ec582abe665_71674_cd98e8b420bb2a67c87a0edd171171f6.webp 400w,
/2023-fall-nn-forgetting/results/fed-noniid-kl_hu1e047e57ab35ea56ea8e8ec582abe665_71674_34e8427ea47c7de29661ea7c7ac10003.webp 760w,
/2023-fall-nn-forgetting/results/fed-noniid-kl_hu1e047e57ab35ea56ea8e8ec582abe665_71674_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/fed-noniid-kl_hu1e047e57ab35ea56ea8e8ec582abe665_71674_cd98e8b420bb2a67c87a0edd171171f6.webp width=760 height=435 loading=lazy data-zoomable></div></div></figure></td></tr></tbody></table><h2 id=validation-accuracy-plots>Validation accuracy plots</h2><p>We plotted the validation set accuracy for the community model as well as the clients. For the clients, the validation set contains all the classes and not just the classes it has in its local site.</p><table><thead><tr><th style=text-align:center>IID</th><th style=text-align:center>Non-IID</th></tr></thead><tbody><tr><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=iid srcset="/2023-fall-nn-forgetting/results/iid-new-graph_huf6161251a13930a68fcd93bcf01c4727_108319_a85e9c927230447f676e9d42b96727b7.webp 400w,
/2023-fall-nn-forgetting/results/iid-new-graph_huf6161251a13930a68fcd93bcf01c4727_108319_b666a464fe71b45d520f92c7d74b368c.webp 760w,
/2023-fall-nn-forgetting/results/iid-new-graph_huf6161251a13930a68fcd93bcf01c4727_108319_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/iid-new-graph_huf6161251a13930a68fcd93bcf01c4727_108319_a85e9c927230447f676e9d42b96727b7.webp width=760 height=425 loading=lazy data-zoomable></div></div></figure></td><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=non_iid srcset="/2023-fall-nn-forgetting/results/non-IIDnew_huab5c57272e63876f7862587895f22ad7_97936_e4a3d69796cbe099eee22b118851aade.webp 400w,
/2023-fall-nn-forgetting/results/non-IIDnew_huab5c57272e63876f7862587895f22ad7_97936_b8efe313bd5947502d647d5c2b090fa0.webp 760w,
/2023-fall-nn-forgetting/results/non-IIDnew_huab5c57272e63876f7862587895f22ad7_97936_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/non-IIDnew_huab5c57272e63876f7862587895f22ad7_97936_e4a3d69796cbe099eee22b118851aade.webp width=760 height=430 loading=lazy data-zoomable></div></div></figure></td></tr></tbody></table><p>This plot essentially brings out the two issues we are trying to address. First, the validation accuracy of the community model is off by 10% in case of Non-IID data, which shows a drift in the community model. Second, the local clients never do that well on the validation set! It has poor accuracy. These are the two issues we sought to visualize and fix, if possible!</p><h2 id=scaffold>Scaffold</h2><p>Scaffold addresses the issue by adjusting for the client drift.</p><table><thead><tr><th style=text-align:center>Validation plot</th><th style=text-align:center>KL Divergence</th></tr></thead><tbody><tr><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=non-iid srcset="/2023-fall-nn-forgetting/results/scaffold_noniid_hu8a58688dd71fdd82ffbd77150ff5e68d_151562_35c04c4ed1739402a50160a10713ec4c.webp 400w,
/2023-fall-nn-forgetting/results/scaffold_noniid_hu8a58688dd71fdd82ffbd77150ff5e68d_151562_7f77edc08805b379f3a185798900c87b.webp 760w,
/2023-fall-nn-forgetting/results/scaffold_noniid_hu8a58688dd71fdd82ffbd77150ff5e68d_151562_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/scaffold_noniid_hu8a58688dd71fdd82ffbd77150ff5e68d_151562_35c04c4ed1739402a50160a10713ec4c.webp width=760 height=430 loading=lazy data-zoomable></div></div></figure></td><td style=text-align:center><figure><div class="d-flex justify-content-center"><div class=w-100><img alt=non-iid srcset="/2023-fall-nn-forgetting/results/scaffold_kl_hu44c17518009861492310c5c97c9dc5bf_137365_d8a6145751ea8cf99c65db65d14a9c78.webp 400w,
/2023-fall-nn-forgetting/results/scaffold_kl_hu44c17518009861492310c5c97c9dc5bf_137365_ccd93ec2866cc04ef508e505129c4f9b.webp 760w,
/2023-fall-nn-forgetting/results/scaffold_kl_hu44c17518009861492310c5c97c9dc5bf_137365_1200x1200_fit_q75_h2_lanczos_3.webp 1200w" src=/2023-fall-nn-forgetting/results/scaffold_kl_hu44c17518009861492310c5c97c9dc5bf_137365_d8a6145751ea8cf99c65db65d14a9c78.webp width=760 height=425 loading=lazy data-zoomable></div></div></figure></td></tr></tbody></table><h2 id=discussion-of-findings>Discussion of Findings</h2><p>While there may not be significant fixes at this stage, the semester long research into understanding the problem statement gave us two prominent papers and how they fail to work with our problem statement.<br></p><p>(i) At this point, we believe with scaffold, the pulling back of the client models at each local step prevents it from capturing the intricacies of the dataset locally thus affecting the performance of the global community model.<br></p><p>(ii) We investigated how this drift happens at each layer and found the first layer to be the most divergent. While this could be attributed to the fact that the input layer changes most with introduction of new data (global validation to local clients), a counter argument can also be made that the first layer picks up basic features and as the layers progresses, the features get accumulated to get a bigger picture.<br></p></div><p class=edit-page><a href=https://github.com/ckids-datafirst/2023-fall-nn-forgetting/edit/main/content/results/index.md><i class="fas fa-pen pr-2"></i>Edit this page</a></p></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">© {2023} USC CKIDS DataFirst</p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/2023-fall-nn-forgetting/js/vendor-bundle.min.32ee83730ed883becad04bc5170512cc.js></script>
<script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script>
<script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script>
<script id=page-data type=application/json>{"use_headroom":true}</script><script src=/2023-fall-nn-forgetting/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script>
<script src=/2023-fall-nn-forgetting/en/js/wowchemy.min.53e2d4aa5b5aee6f858cf53dc1025ec4.js></script>
<script src=/2023-fall-nn-forgetting/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script></body></html>